(this["webpackJsonpreact-comic-viewer"]=this["webpackJsonpreact-comic-viewer"]||[]).push([[0],{40:function(n,e,t){},41:function(n,e,t){"use strict";t.r(e);var i,c,o,r,a,l,s,u,d,j,b,f,g,h,p=t(1),O=t(14),v=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(e){var t=e.getCLS,i=e.getFID,c=e.getFCP,o=e.getLCP,r=e.getTTFB;t(n),i(n),c(n),o(n),r(n)}))},x=t(5),m=t(11),C=t(21),w=t(3),k=t(4),y=k.a.div(i||(i=Object(w.a)(["\n  background: #333;\n  color: #fff;\n  display: grid;\n  grid-template: ",";\n  height: ",";\n  max-height: ",";\n  min-height: ",";\n  overflow: hidden;\n  position: relative;\n  transition: 250ms;\n"])),(function(n){var e=n.isFullScreen;return"1fr ".concat(e?"0":"40px"," / 1fr")}),(function(n){var e=n.height,t=n.isExpansion;return"".concat(e-(t?0:95),"px")}),(function(n){var e=n.height,t=n.isExpansion;return"".concat(t?e:840,"px")}),(function(n){var e=n.isExpansion;return"".concat(e?0:440,"px")})),S=k.a.div(c||(c=Object(w.a)(["\n  height: 100%;\n  position: relative;\n"]))),M=k.a.div(o||(o=Object(w.a)(["\n  direction: rtl;\n  display: grid;\n  grid-auto-flow: column;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n  right: 0;\n  transform: translateX(\n    calc(\n      ","\n    )\n  );\n  transition: ",";\n"])),(function(n){var e=n.currentPage,t=n.direction,i=n.isSingleView,c=n.pagesLength,o=n.pageWidth;return"".concat("rtl"===t?e*o:(c-(i?1:2)-e)*o,"px")}),(function(n){var e=n.switchingFullScreen;return"".concat(e?0:250,"ms")})),N=k.a.a(r||(r=Object(w.a)(["\n  cursor: pointer;\n  height: 100%;\n  left: calc(100% / 3);\n  position: absolute;\n  top: 0;\n  width: calc(100% / 3);\n"]))),E=k.a.a(a||(a=Object(w.a)(["\n  align-items: center;\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  display: flex;\n  height: 100%;\n  justify-content: ",";\n  opacity: 0.5;\n  right: ",";\n  padding: 0;\n  position: absolute;\n  transition: 250ms;\n  width: calc(100% / 3);\n  :hover {\n    opacity: 1;\n  }\n  @media (max-width: 980px) {\n    opacity: 0;\n    :hover {\n      opacity: 0;\n    }\n  }\n"])),(function(n){var e=n.direction,t=n.navigation;return"rtl"===e?"next"===t?"flex-start":"flex-end":"next"===t?"flex-end":"flex-start"}),(function(n){var e=n.direction,t=n.navigation;return"rtl"===e?"next"===t?"auto":"0":"next"===t?"0":"auto"})),z=k.a.div(l||(l=Object(w.a)(["\n  overflow: hidden;\n  width: ",";\n"])),(function(n){var e=n.width;return"".concat(e,"px")})),I=k.a.img(s||(s=Object(w.a)(["\n  height: 100%;\n  object-fit: contain;\n  object-position: ",";\n  width: 100%;\n"])),(function(n){var e=n.isOdd;return n.isSingleView?"center":e?"left":"right"})),B=k.a.aside(u||(u=Object(w.a)(["\n  bottom: 0;\n  box-sizing: border-box;\n  height: 40px;\n  left: 0;\n  padding: 0 16px;\n  position: absolute;\n  width: 100%;\n"]))),F=k.a.div(d||(d=Object(w.a)(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n"]))),P=k.a.div(j||(j=Object(w.a)(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: space-between;\n"]))),L=k.a.input(b||(b=Object(w.a)(["\n  cursor: pointer;\n  max-width: 1024px;\n  transform: rotate(","deg);\n  width: 100%;\n"])),(function(n){return"rtl"===n.direction?180:0})),V=k.a.div(f||(f=Object(w.a)(["\n  display: grid;\n  gap: 8px;\n  grid-auto-flow: column;\n  height: 100%;\n"]))),R=k.a.button(g||(g=Object(w.a)(["\n  align-items: center;\n  background: transparent;\n  border: 0;\n  color: #ccc;\n  cursor: pointer;\n  display: grid;\n  font-size: 14px;\n  gap: 8px;\n  grid-template: auto / auto auto;\n  height: 100%;\n  outline: none;\n"]))),T=k.a.button(h||(h=Object(w.a)(["\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  padding: 12px 12px;\n  position: absolute;\n  right: 0;\n  top: 0;\n"]))),W=t(13),D=t(22),J=t(6),H=t(16),X=t(19),q=t(18),A=t(9),G=t(10),K=t(17),Q=t.n(K),U=t(2);function Y(n){var e=n.className,t=n.direction,i=void 0===t?"rtl":t,c=n.initialCurrentPage,o=void 0===c?0:c,r=n.initialIsExpansion,a=void 0!==r&&r,l=n.onChangeCurrentPage,s=n.onChangeExpansion,u=n.onClickCenter,d=n.pages,j=n.switchingRatio,b=void 0===j?1:j,f=n.text,g=void 0===f?{expansion:"Expansion",fullScreen:"Full screen",move:"Move",normal:"Normal"}:f,h=Object(p.useMemo)((function(){return"rtl"===i}),[i]),O=Object(p.useMemo)((function(){return g}),[g]),v=O.expansion,w=O.fullScreen,k=O.move,K=O.normal,Y=Object(A.b)(),Z=Object(x.a)(Y,2),$=Z[0],_=Z[1],nn=Object(p.useState)(a),en=Object(x.a)(nn,2),tn=en[0],cn=en[1],on=Object(p.useState)(!1),rn=Object(x.a)(on,2),an=rn[0],ln=rn[1],sn=Object(W.b)(),un=Object(p.useMemo)((function(){return sn}),[sn]),dn=un.active,jn=un.enter,bn=un.exit,fn=Object(p.useCallback)((function(){cn((function(n){return!n}))}),[]),gn=Object(p.useCallback)((function(){ln(!0),jn()}),[jn]),hn=Object(p.useCallback)((function(){ln(!0),bn()}),[bn]),pn=Object(p.useMemo)((function(){return _>$*b?$:$/2}),[b,_,$]),On=Object(p.useMemo)((function(){return tn?K:v}),[v,tn,K]),vn=Object(p.useMemo)((function(){return tn?Object(U.jsx)(J.c,{color:"#fff",size:24}):Object(U.jsx)(J.d,{color:"#fff",size:24})}),[tn]),xn=Object(p.useMemo)((function(){return _>$*b}),[b,_,$]),mn=Object(p.useMemo)((function(){if(h)return d;var n=d.slice().reverse();return xn||n.length%2===0?n:[null].concat(Object(C.a)(n))}),[h,xn,d]),Cn=Object(p.useMemo)((function(){return mn.map((function(n,t){return Object(U.jsx)(z,{className:null===e||void 0===e?void 0:e.page,width:pn,children:"string"===typeof n?Object(U.jsx)(I,{alt:n,className:null===e||void 0===e?void 0:e.img,isOdd:!(t%2),isSingleView:xn,src:n}):n},Object(D.a)())}))}),[null===e||void 0===e?void 0:e.img,null===e||void 0===e?void 0:e.page,xn,pn,mn]),wn=Object(p.useState)(),kn=Object(x.a)(wn,2),yn=kn[0],Sn=kn[1],Mn=Object(p.useState)(xn?o:2*Math.floor(o/2)),Nn=Object(x.a)(Mn,2),En=Nn[0],zn=Nn[1],In=Object(p.useMemo)((function(){return xn&&En>=mn.length-1||!xn&&En>=mn.length-2}),[En,xn,mn.length]),Bn=Object(p.useCallback)((function(){In||(ln(!1),zn((function(n){return n+(xn?1:2)})))}),[In,xn]),Fn=Object(p.useMemo)((function(){return 0===En}),[En]),Pn=Object(p.useCallback)((function(){Fn||(ln(!1),zn((function(n){return n-(xn?1:2)})))}),[Fn,xn]),Ln=Object(p.useState)(!1),Vn=Object(x.a)(Ln,2),Rn=Vn[0],Tn=Vn[1],Wn=Object(p.useCallback)((function(){Tn(!0)}),[]),Dn=Object(p.useCallback)((function(n){var e=n.currentTarget.value;ln(!1),zn(xn?parseInt(e,10)-1:2*(parseInt(e,10)-1))}),[xn]),Jn=Object(p.useCallback)((function(){Tn(!1)}),[]),Hn=Object(H.a)(Jn),Xn=Object(x.a)(Hn,1)[0],qn=Object(q.useSwipeable)({onSwipedLeft:function(){Fn||(ln(!1),zn((function(n){return n-(xn?1:2)})))},onSwipedRight:function(){In||(ln(!1),zn((function(n){return n+(xn?1:2)})))}}),An=Object(p.useMemo)((function(){return Q.a}),[]).isEnabled,Gn=Object(p.useMemo)((function(){return xn?mn.length:Math.ceil(mn.length/2)}),[xn,mn.length]),Kn=Object(p.useMemo)((function(){return xn?En+1:Math.floor(En/2)+1}),[En,xn]);return Object(p.useEffect)((function(){if(!dn){if("boolean"!==typeof yn)return;return Sn(void 0),void cn(yn)}"boolean"!==typeof yn&&(Sn(tn),cn(!0))}),[dn,tn,yn]),Object(G.a)((function(){xn||zn((function(n){return 2*Math.floor(n/2)}))}),[xn]),Object(G.a)((function(){l&&l(En)}),[En,l]),Object(G.a)((function(){s&&s(tn)}),[tn,s]),Object(U.jsx)(W.a,{handle:sn,children:Object(U.jsxs)(y,Object(m.a)(Object(m.a)({className:null===e||void 0===e?void 0:e.wrapper,height:_,isExpansion:tn,isFullScreen:dn},qn),{},{children:[Object(U.jsxs)(S,{className:null===e||void 0===e?void 0:e.viewer,children:[Object(U.jsx)(M,{className:null===e||void 0===e?void 0:e.pagesWrapper,currentPage:En,direction:i,isSingleView:xn,pagesLength:mn.length,pageWidth:pn,switchingFullScreen:an,children:Cn}),In?null:Object(U.jsx)(E,{className:null===e||void 0===e?void 0:e.nextNavigationButton,direction:i,navigation:"next",onClick:Bn,children:h?Object(U.jsx)(J.a,{color:"#888",size:64}):Object(U.jsx)(J.b,{color:"#888",size:64})}),u?Object(U.jsx)(N,{className:null===e||void 0===e?void 0:e.centerButton,onClick:u}):null,Fn?null:Object(U.jsx)(E,{className:null===e||void 0===e?void 0:e.prevNavigationButton,direction:i,navigation:"prev",onClick:Pn,children:h?Object(U.jsx)(J.b,{color:"#888",size:64}):Object(U.jsx)(J.a,{color:"#888",size:64})})]}),dn?Object(U.jsx)(T,{className:null===e||void 0===e?void 0:e.closeButton,onClick:hn,children:Object(U.jsx)(X.a,{color:"#fff",size:36})}):Object(U.jsx)(B,{className:null===e||void 0===e?void 0:e.controller,children:Rn?Object(U.jsx)(F,{className:null===e||void 0===e?void 0:e.subController,ref:Xn,children:Object(U.jsx)(L,{className:null===e||void 0===e?void 0:e.rangeInput,direction:i,onChange:Dn,max:Gn,min:1,step:1,type:"range",value:Kn})}):Object(U.jsxs)(P,{className:null===e||void 0===e?void 0:e.mainController,children:[Object(U.jsxs)(V,{className:null===e||void 0===e?void 0:e.scaleController,children:[Object(U.jsxs)(R,{className:null===e||void 0===e?void 0:e.expansionControlButton,onClick:fn,children:[vn,On]}),An?Object(U.jsxs)(R,{className:null===e||void 0===e?void 0:e.fullScreenControlButton,onClick:gn,children:[Object(U.jsx)(J.e,{color:"#fff",size:24}),w]}):null]}),Object(U.jsxs)(R,{className:null===e||void 0===e?void 0:e.showMoveControlButton,onClick:Wn,children:[Object(U.jsx)(J.f,{color:"#fff",size:24}),k]})]})})]}))})}var Z=function(n){return"undefined"!==typeof window?Object(U.jsx)(Y,Object(m.a)({},n)):null};var $=function(n){var e=n.children,t=Object(A.a)(),i=Object(p.useMemo)((function(){return{minHeight:t}}),[t]);return Object(U.jsx)("div",{style:i,children:e})},_=t(20),nn=t.n(_);t(39);var en=function(){var n=Object(p.useState)(!0),e=Object(x.a)(n,2),t=e[0],i=e[1],c=Object(p.useCallback)((function(){i((function(n){return!n}))}),[]);return Object(U.jsxs)($,{children:[Object(U.jsx)(Z,{direction:t?"rtl":"ltr",initialCurrentPage:1,initialIsExpansion:!1,onChangeCurrentPage:function(n){console.log(n)},onChangeExpansion:function(n){console.log(n)},onClickCenter:function(){console.log("Click the center!")},pages:["/comics/0.jpg","/comics/1.jpg","/comics/2.jpg","/comics/3.jpg","/comics/4.jpg","/comics/5.jpg","/comics/6.jpg"],switchingRatio:.75,text:{expansion:"\u62e1\u5927",fullScreen:"\u5168\u753b\u9762",move:"\u79fb\u52d5",normal:"\u901a\u5e38"}}),Object(U.jsx)("div",{style:{padding:"16px"},children:Object(U.jsxs)("label",{style:{alignItems:"center",display:"inline-flex"},children:["Direction:",Object(U.jsx)(nn.a,{defaultChecked:t,icons:{checked:Object(U.jsx)("div",{style:{alignItems:"center",color:"#fff",display:"flex",height:"100%"},children:"rtl"}),unchecked:Object(U.jsx)("div",{style:{alignItems:"center",color:"#fff",display:"flex",height:"100%"},children:"ltr"})},onChange:c})]})})]})};t(40);Object(O.render)(Object(U.jsx)(p.StrictMode,{children:Object(U.jsx)(en,{})}),document.getElementById("root")),v()}},[[41,1,2]]]);
//# sourceMappingURL=main.5a08ff0c.chunk.js.map